Name: dracut
Summary: Initramfs generator using udev
Version: 037
Release: 1
License: GPLv2+ and LGPLv2+
Group: System/Libraries
URL: https://dracut.wiki.kernel.org/
Description: |
    dracut contains tools to create a bootable initramfs for 2.6 Linux kernels.
    Unlike existing implementations, dracut does hard-code as little as possible
    into the initramfs. dracut contains various modules which are driven by the
    event-based udev. Having root on MD, DM, LVM2, LUKS is supported as well as
    NFS, iSCSI, NBD, FCoE with the dracut-network package.
Sources:
    - dracut-%{version}.tar.xz

PkgBR:
    - bash
    - systemd
Requires: 
    - bash >= 4
    - coreutils >= 8
    - cpio
    - findutils
    - grep
    - hardlink
    - gzip
    - xz
    - kmod
    - sed
    - kpartx
    - util-linux >= 2.21
    - systemd >= 199
    - procps
Conflicts:
    - grubby < 8.23
    - mdadm < 3.2.6

Configure: configure
ConfigOptions:
    - --systemdsystemunitdir=%{_libdir}/systemd/system
    - --bashcompletiondir=%{_datadir}/bash-completion
    - --libdir=%{_prefix}/lib
    - --disable-documentation

Files:
    - "%{_bindir}/dracut*"
    - "%{_bindir}/mkinitrd"
    - "%{_bindir}/lsinitrd"
    - "%{_datadir}/bash-completion/"
    - "%{_libdir}/dracut/"
    - "%{_libdir}/kernel/"
    - "%{_sysconfdir}/dracut.conf.d/"
    - "%dir %{_sysconfdir}/dracut.conf.d"
    - "%config %{_sysconfdir}/dracut.conf"
    - "%{_libdir}/systemd/system/initrd.target.wants/"
    - "%dir %{_libdir}/systemd/system/initrd.target.wants"
